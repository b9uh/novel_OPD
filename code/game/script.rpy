# Определение персонажей игры.

define helper = Character("HelperX", color="#363dbc")
define friend = Character("Подруга", color="#e499c4")
define brother = Character("Брат", color="#99e4a3")
define coworker = Character("Коллега", color="#6fc7d6")
define player = Character("Абитуриент", color="#363dbc")
define player_name = "Абитуриент"

image bg room = "images/bg/room.jpg"
image bg happy_kid = "images/bg/happy_kid.jpg"
image bg notebook = "images/bg/notebook.jpg"
image bg message_1 = "images/bg/message_1.jpg"
image bg message_2 = "images/bg/message_2.jpg"
image bg office = "images/bg/office.jpg"
image bg unity = "images/bg/unity.jpg"

# Игра начинается здесь:
label start:
    $ player_name = renpy.input("Введите ваше имя:", length=20)
    if player_name == "":
        $ player_name = "Абитуриент"
        
    $ player = Character(player_name, color="#363dbc")

    jump introduction

    return

# Вступление
label introduction:
    # СЦЕНА 1
    # На экране мелькают изображения: детские рисунки, тетрадь с эскизами, тень с счастливым  ребёнком за компьютером и тд.
    scene bg happy_kid with fade
    player "{cps=25}{i}С самого детства я любил игры. Для кого-то это просто развлечение, но для меня — целые миры, в которых можно быть кем угодно.{/i}{/cps}"
    player "{cps=25}{i}В школе я даже пытался придумать свою игру — рисовал картинки в тетрадке, придумывал героев и правила. Тогда мне казалось, что всё возможно.{/i}{/cps}"

    # СЦЕНА 2
    # ДОБАВИТЬ ВИЗУАЛ Комната героя, вечер. На столе учебники и ноутбук. Герой роняет стопку книг, и из коробки выпадает та самая старая тетрадь с рисунками.
    scene bg room with dissolve
    "Комната героя, вечер. На столе учебники и ноутбук. Герой роняет стопку книг, и из коробки выпадает та самая старая тетрадь с рисунками."
    player "{cps=25}{i}Точно… я совсем про неё забыл. Эта тетрадь… когда-то я верил, что сделаю свою игру. А теперь?..{/i}{/cps}"
    menu:
        "Открыть тетрадь":
            jump open_notebook
        "Спрятать обратно":
            jump hide_the_notebook

    return

# Ветка «Открыть тетрадь»
label open_notebook:
    scene bg notebook with dissolve
    "Герой листает страницы."
    player "{cps=25}{i}Глупо… но всё равно что-то внутри оживает, когда я на это смотрю.{/i}{/cps}"
    scene black with dissolve
    # В этот момент приходит сообщение от подруги.
    scene bg message_1 with dissolve
    friend "{cps=50}Ты где пропал? Уже неделю не слышно. Сессия тебя одолела?{/cps}"
    player "{cps=50}Почти. Нашёл старую тетрадь с идеями для  игр.{/cps}"
    friend "{cps=50}Игры? Покажи! Мне уже интересно.{/cps}"
    menu:   
        "Отправить фото тетради":
            jump send_photo
        "Не стоит":
            jump dont_send_photo

    return

# Ветка «Спрятать тетрадь» 
label hide_the_notebook:
    player "{cps=25}{i}Глупости. Это всё детство. Сейчас не время для мечтаний.{/i}{/cps}"
    "Он закрывает тетрадь, кладёт её обратно в коробку и выпрямляется."
    player "{cps=25}{i}Пора взрослеть. Игры меня не прокормят.{/i}{/cps}"
    # Камера медленно отъезжает.
    "На фоне — звук закрывающейся крышки коробки."
    # Экран темнеет, появляется надпись:
    scene black with fade
    pause 0.5
    centered "{b}Вы выбрали забыть мечту.{/b}"
    return

# Ветка «Отправить фото тетради» 
label send_photo:
    scene bg message_2 with dissolve
    friend "{cps=50}Потрясающе! Пусть и детские наброски, но в них есть идея. Давай попробуем сделать что-то по этому?{/cps}"
    player "{cps=50}Ты серьёзно?..{/cps}"
    friend "{cps=50}Абсолютно. Я давно хочу попробовать себя в чём-то большом.{/cps}"
    # ДОБАВИТЬ ВИЗУАЛ (В этот момент в комнату заходит Брат.)
    scene bg room with dissolve
    "В этот момент в комнату заходит Брат."
    brother "{cps=50}И снова ты сидишь в игрушках? Экзамен скоро, а ты мечтаешь о глупостях. Ты же понимаешь, что у нормального программиста есть будущее. А игры — это не серьезно.{/cps}"
    player "{cps=25}{i}Что выбрать?..{/i}{/cps}"
    menu:   
        "Путь обычного программиста (как брат)":
            jump programmer_path
        "Путь геймдева (с Подругой)":
            jump gamedev_path

    return

label dont_send_photo:
    player "{cps=25}{i}Да зачем? Всё это детские глупости. Никому нет дела до моих идей.{/i}{/cps}"
    scene bg room with dissolve
    "Он откладывает телефон и снова открывает ноутбук. Несколько секунд тишины. За окном гудит ветер."
    player "{cps=25}{i}Вот и всё. Просто ещё один вечер. Как всегда...{/i}{/cps}"
    scene black with fade
    pause 0.5
    centered "{b}Вы решили не делиться своей мечтой.{/b}"
    return

# Ветка «Путь обычного программиста» 
label programmer_path:
    player "{cps=25}{i}Брат прав. Игры — это детство. А жизнь — это работа, ответственность, стабильность. Если я хочу чего-то добиться, нужно перестать гоняться за мечтами.{/i}{/cps}"
    "Он убирает тетрадь в ящик, открывает ноутбук."
    scene black with fade

    # СЦЕНА 1. Несколько месяцев спустя
    "Несколько месяцев спустя.."
    player "{cps=25}{i}Сдал все экзамены, устроился на стажировку. Backend-разработка, базы данных, немного автоматизации — ничего особенного, но зато всё понятно.{/i}{/cps}"
    "На экране мелькают строки кода."
    player "{cps=25}{i}Я уже уверенно пишу на Python, знаю SQL, разбираюсь в Git. Счастлив только тогда, когда код наконец работает. Просто цифры и логика, ничего особенного.{/i}{/cps}"
    "Он закрывает ноутбук и смотрит в окно."
    # СЦЕНА 2. Первый офис
    scene bg office with fade
    "Белые стены, тихий гул вентиляторов. Люди печатают код."
    coworker "{cps=50}[player_name], можешь глянуть мой скрипт? Он падает при загрузке данных.{/cps}"
    player "{cps=50}Да, дай сюда. Наверное, не обнулил переменную. Вот, смотри — ошибка здесь.{/cps}"
    "Он быстро исправляет, коллега благодарит."
    player "{cps=25}{i}Руки делают всё автоматически. Иногда мне даже кажется, что я сам стал частью программы.{/i}{/cps}"
    menu:   
        "Выпить кофе и продолжить работать":
            pass
        "Сделать короткий перерыв и подышать воздухом":
            pass
    player "{cps=25}{i}Да какая разница… всё равно надо закончить отчёт.{/i}{/cps}"
    # СЦЕНА 3. Поздний вечер
    "Герой закрывает IDE. На рабочем столе — папка “GameIdea.docx”"
    player "{cps=25}{i}Файл всё ещё здесь. Странно, что я его не удалил...{/i}{/cps}"
    "Открывает, видит старые идеи. На лице лёгкая улыбка — и усталость."
    player "{cps=25}{i}Может, я просто не создан для этого. Мечты — для других.{/i}{/cps}"
    # СЦЕНА 4. Несколько лет спустя
    # ДОБАВИТЬ ВИЗУАЛ??? Нарезка кадров: метро, офис, кофе, экран.
    player "{cps=25}{i}Теперь я middle-разработчик. Учу младших, получаю стабильную зарплату. Но каждый раз, когда вижу игру с интересным миром… внутри будто что-то щёлкает...{/i}{/cps}"
    scene black with fade
    pause 0.5
    centered "{b}Вы выбрали стабильность. \nИногда правильный путь не приносит покоя.{/b}"
    return

# Ветка «Путь геймдева» 
label gamedev_path:
    # СЦЕНА 1. Поддержка
    "???Вечер. Герой сидит за компьютером, открыта старая тетрадь. На экране появляется уведомление — сообщение от Подруги."
    friend "{cps=50}Я всё думала про ту твою тетрадь. Слушай, может, и правда попробовать? Не обязательно что-то грандиозное. Маленький проект, просто ради интереса.{/cps}"
    player "{cps=50}Ты серьёзно? У меня нет ни команды, ни опыта. Только парочка туториалов по Unity и куча страхов.{/cps}"
    friend "{cps=50}Зато у тебя есть идея. И желание. А это уже половина дела. Хватит бояться — начни с того, что можешь. Я помогу, чем смогу.{/cps}"
    player "{cps=25}{i}Она говорит это так уверенно, как будто всё просто. Но может, ей стоит поверить хотя бы на этот раз?{/i}{/cps}"
    menu:   
        "Попробовать начать":
            jump try_to_start
        "Отложить идею на потом":
            jump set_aside_idea

    return

# Ветка «Попробовать начать» 
label try_to_start:
    player "{cps=50}Хорошо. Только не обещаю, что всё получится идеально.{/cps}"
    friend "{cps=50}А кто сказал, что должно? Главное — чтобы получилось хоть что-то.{/cps}"
    "Герой ищет информацию, скачивает Unity, открывает пустую сцену, рисует первую кнопку."
    player "{cps=25}{i}Странно. Даже простая серенькая фигура на экране вызывает радость. Пока это не игра… но уже начало.{/i}{/cps}"
    # Короткий переход. На экране телефона — уведомление.
    "На экране телефона — уведомление."
    friend "{cps=50}Эй, покажи, что у тебя вышло!{/cps}"
    player "{cps=50}Пока ничего особенного. Но работает!{/cps}"
    friend "{cps=50}Видишь? А теперь представь, что ты можешь довести это до конца. Ты всегда мечтал создавать миры — так создай хотя бы один.{/cps}"
    player "{cps=25}{i}Её слова застряли где-то глубоко. Создать свой мир… может, я действительно способен?{/i}{/cps}"
    # СЦЕНА 2. Первые шаги
    scene bg unity with dissolve
    "Прошла неделя. Комната героя — на столе кружка с кофе, открытый Unity, куча вкладок с туториалами."
    player "{cps=25}{i}Не думал, что будет так сложно. Каждый урок — как новая загадка. Я чувствую себя первоклассником.{/i}{/cps}"
    scene black with fade
    "В один момент всё зависает. Ошибка. Экран замирает."
    player "{cps=50}Серьёзно?.. Всё рухнуло. День работы — впустую.{/cps}"
    "Он откидывается на спинку стула. Тишина. За окном моросит дождь."
    player "{cps=25}{i}Может, я зря ввязался? Подруга верит, но я… не уверен, что у меня хватит сил.{/i}{/cps}"
    # Сообщение от Подруги.
    "Сообщение от Подруги."
    friend "{cps=50}Эй, как дела? Не сдавайся. Я видела столько историй, где люди начинали с нуля. Ты не хуже. Главное — не бросай.{/cps}"
    # Гг (улыбается)
    player "{cps=50}Ладно. Попробую ещё раз.{/cps}"
    # СЦЕНА 3. Ночь экспериментов
    "Ночь. Комната освещена только экраном. Герой печатает, пробует, тестирует."
    player "{cps=25}{i}Получилось! Он двигается! Пусть неловко, пусть криво — но двигается!{/i}{/cps}"
    # На экране — простая модель персонажа, прыгающая через препятствия (как в игре динозавр из google).
    player "{cps=50}Я сделал это… хоть и по гайду, но сам!{/cps}"
    # СЦЕНА 4. Знакомство с Помощником
    "Проходит несколько дней. Герой заходит на форум для разработчиков игр, чтобы задать вопрос о баге."
    player "{cps=50}Привет. Я новичок. Делаю простую 2D-игру, но застрял — персонаж не реагирует на управление. Не могу понять, где ошибка.{/cps}"
    "Через пару минут приходит ответ от пользователя с ником “HelperX”."
    helper "{cps=50}Привет! Не переживай, с этим сталкиваются все. Проверь, к объекту ли прикреплён скрипт, и не конфликтует ли с коллайдером. Если хочешь — скинь проект, посмотрю.{/cps}"
    player "{cps=25}{i}Не ожидал, что кто-то ответит так быстро… и так спокойно. Может, он и правда сможет помочь.{/i}{/cps}"
    "Он отправляет проект. Через пару минут получает ответ."
    helper "{cps=50}Нашёл. У тебя неправильное имя компонента в коде. Попробуй исправить — должно заработать.{/cps}"
    "Герой проверяет, исправляет — персонаж оживает."
    player "{cps=25}{i}Работает!{/i}{/cps}"
    "Он быстро возвращается в чат."
    player "{cps=50}Спасибо! Я бы, наверное, ещё день на это потратил.{/cps}"
    helper "{cps=50}Ха, не переживай. Такое у всех бывает. Главное — не бояться спрашивать.{/cps}"
    # Пауза. Герой задумывается.
    "Герой задумывается."
    player "{cps=50}А ты давно этим занимаешься? Просто интересно, как ты понял, что хочешь делать именно игры?{/cps}"
    helper "{cps=50}О, это отдельная история. Сначала думал, что просто люблю программировать. Потом оказалось, что мне ближе придумывать, как всё будет работать.{/cps}"
    helper "{cps=50}А позже понял — не так важно, кем именно ты себя называешь. Главное — куда тебя тянет больше всего.{/cps}"
    player "{cps=25}{i}Куда тянет... я ведь сам до конца не понимаю. Мне нравится кодить, но не только. Иногда я думаю о сюжете, иногда о том, как всё должно выглядеть...{/i}{/cps}"
    helper "{cps=50}Если ты только начинаешь — не спеши с выбором. Попробуй всё по чуть-чуть: посмотри, что тебе даётся легче, а от чего загораешься.{/cps}"
    helper "{cps=50}В геймдеве много ролей — и все нужны. Главное — понять, в какой из них ты растёшь, а не выгораешь.{/cps}"
    player "{cps=50}Звучит просто… но я не знаю, с чего начать искать это “своё”.{/cps}"
    helper "{cps=50}Начни с вопросов. Что тебе интереснее: создавать правила мира, рисовать этот мир, оживлять его кодом или искать ошибки, чтобы сделать лучше?{/cps}"
    helper "{cps=50}Ответ на эти вопросы приведёт тебя туда, где тебе действительно будет по пути.{/cps}"
    "На лице героя появляется лёгкая улыбка. Он задумчиво смотрит на экран, где открыта его первая сцена в игре."
    player "{cps=25}{i}Создавать, рисовать, оживлять, исправлять… Я даже не думал, что это четыре совершенно разных дороги. Похоже, мне стоит разобраться, куда ведёт моя.{/i}{/cps}"
    helper "{cps=50}Если захочешь — я помогу тебе определиться. Не как учитель, а как тот, кто когда-то стоял на твоём месте.{/cps}"
    player "{cps=50}Договорились. Спасибо… правда.{/cps}"
    # Он закрывает ноутбук. За окном уже рассвет, кадр со спины героя,птички чирикают.
    "Он закрывает ноутбук. За окном уже рассвет, кадр со спины героя,птички чирикают."

    return

# Ветка «Отложить идею на потом» 
label set_aside_idea:
    player "{cps=50}Нет, пока не время. Я не готов.{/cps}"
    friend "{cps=50}А если это “потом” никогда не наступит?{/cps}"
    "Молчание. Подруга оффлайн. Герой сидит перед пустым экраном."
    player "{cps=25}{i}Опять я выбрал привычное. Может, когда-нибудь...{/i}{/cps}"

    return

